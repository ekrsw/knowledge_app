# KSAP ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

## ğŸ¯ è¨­è¨ˆæ–¹é‡ã¨MVPæˆ¦ç•¥

### ãƒ“ã‚¸ãƒã‚¹è¦ä»¶
- **å¹´é–“å‡¦ç†ä»¶æ•°**: 10,000ä»¶ã®æ”¹è¨‚ææ¡ˆ
- **é‡è¦èª²é¡Œ**: æ‰¿èªä½œæ¥­ã®åŠ¹ç‡åŒ–
- **å„ªå…ˆæ©Ÿèƒ½**: å·®åˆ†ç†è§£ + åˆ¤å®šé€Ÿåº¦ã®ä¸¡ç«‹

### MVPæ–¹é‡
- **åŸºæœ¬çš„ã ãŒç¢ºå®Ÿã«å‹•ä½œ**ã™ã‚‹æ©Ÿèƒ½ã‚»ãƒƒãƒˆ
- è»½é‡ç‰ˆå·®åˆ†è¡¨ç¤ºæ©Ÿèƒ½
- å°†æ¥ã®é«˜æ©Ÿèƒ½åŒ–ã¸ã®æ‹¡å¼µæ€§ã‚’ä¿æŒ

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¹ã‚¿ãƒƒã‚¯
```mermaid
graph TD
    A[Frontend Stack] --> B[Next.js 15<br/>App Router + Turbopack]
    A --> C[React 19]
    A --> D[TailwindCSS v4]
    A --> E[TypeScript<br/>strict mode]
    A --> F[react-diff-viewer-continued<br/>å·®åˆ†è¡¨ç¤º]
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµ±åˆ
```mermaid
graph TD
    G[Backend Integration] --> H[FastAPI REST API<br/>localhost:8000/api/v1]
    G --> I[JWT Bearer Authentication]
    G --> J[PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹]
```

### ãƒšãƒ¼ã‚¸æ§‹æˆã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```mermaid
graph TD
    A[app/] --> B[layout.tsx<br/>Root Layout + èªè¨¼]
    A --> C[page.tsx<br/>Dashboard Redirect]
    A --> D[login/page.tsx]
    A --> E[dashboard/page.tsx<br/>ãƒ­ãƒ¼ãƒ«åˆ¥åˆ†å²]
    
    A --> F[approvals/]
    F --> G[queue/page.tsx<br/>æ‰¿èªã‚­ãƒ¥ãƒ¼]
    F --> H["review/[id]/page.tsx<br/>æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ â­æœ€é‡è¦"]
    F --> I[history/page.tsx<br/>æ‰¿èªå±¥æ­´]
    
    A --> J[proposals/]
    J --> K[new/page.tsx<br/>æ–°è¦ææ¡ˆ]
    J --> L[my/page.tsx<br/>è‡ªåˆ†ã®ææ¡ˆ]
    J --> M["edit/[id]/page.tsx<br/>ææ¡ˆç·¨é›†"]
    
    A --> N[admin/]
    N --> O[users/page.tsx<br/>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†]
    N --> P[stats/page.tsx<br/>ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ]
```

## ğŸ¨ æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸è¨­è¨ˆ (æ ¸å¿ƒæ©Ÿèƒ½)

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

#### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ3åˆ—ã‚°ãƒªãƒƒãƒ‰ï¼‰
```mermaid
flowchart LR
    A[Summary<br/>1/4 width<br/>ãƒ»è¨˜äº‹æƒ…å ±<br/>ãƒ»ææ¡ˆè€…<br/>ãƒ»é‡è¦åº¦<br/>ãƒ»å¤‰æ›´çµ±è¨ˆ] --- B[DiffViewer<br/>2/4 width<br/>ãƒ»Before/After<br/>ãƒ»å¤‰æ›´ãƒã‚¤ãƒ©ã‚¤ãƒˆ<br/>ãƒ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åˆ¥è¡¨ç¤º<br/>ãƒ»criticalå¼·èª¿] --- C[Actions<br/>1/4 width<br/>ãƒ»åˆ¤å®šãƒœã‚¿ãƒ³<br/>ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆæ¬„<br/>ãƒ»æ“ä½œã‚¬ã‚¤ãƒ‰<br/>ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³]
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
```mermaid
graph TD
    D[ç”»é¢ã‚µã‚¤ã‚º] --> E[Desktop 1024px+]
    D --> F[Tablet 768px+]
    D --> G[Mobile ~768px]
    
    E --> H[3åˆ—ã‚°ãƒªãƒƒãƒ‰<br/>Summary | DiffViewer | Actions]
    F --> I[2åˆ—ã‚°ãƒªãƒƒãƒ‰<br/>Diff+Actions | Summary]
    G --> J[ç¸¦ã‚¹ã‚¿ãƒƒã‚¯<br/>Summary<br/>â†“<br/>DiffViewer<br/>â†“<br/>Actions]
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

#### ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å‡¦ç†
```mermaid
graph TD
    A[æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸<br/>ã‚¢ã‚¯ã‚»ã‚¹] --> B["GET /revisions/{revision_id}"]
    B --> C[RevisionWithNames<br/>ãƒ‡ãƒ¼ã‚¿å–å¾—]
    B --> D["GET /diffs/{revision_id}"]
    D --> E[RevisionDiff<br/>ãƒ‡ãƒ¼ã‚¿å–å¾—]
    C --> F[ä¸¦åˆ—ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°<br/>Summary + Diff + Actions]
    E --> F
    F --> G[æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸<br/>è¡¨ç¤ºå®Œäº†]
```

#### åˆ¤å®šå‡¦ç†ãƒ•ãƒ­ãƒ¼
```mermaid
graph TD
    H[ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¤å®š<br/>A/R/C/D + ã‚³ãƒ¡ãƒ³ãƒˆ] --> I["POST /approvals/{id}/decide"]
    I --> J{APIå¿œç­”}
    J -->|æˆåŠŸ| K[åˆ¤å®šå®Œäº†<br/>Successé€šçŸ¥]
    J -->|ã‚¨ãƒ©ãƒ¼| L[ã‚¨ãƒ©ãƒ¼è¡¨ç¤º<br/>å†è©¦è¡Œå¯èƒ½]
    K --> M{æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³}
    M -->|Next Available| N[æ¬¡ã®æ¡ˆä»¶ã¸<br/>ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³]
    M -->|No More Items| O[æ‰¿èªã‚­ãƒ¥ãƒ¼ã¸<br/>æˆ»ã‚‹]
    L --> H
```

## ğŸš€ é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»

### é–‹ç™ºã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
```mermaid
gantt
    title KSAP ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    dateFormat X
    axisFormat %s
    
    section Phase 1: åŸºç›¤
    JWTèªè¨¼ã‚·ã‚¹ãƒ†ãƒ            :done, p1a, 0, 3d
    ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰      :done, p1b, after p1a, 2d
    åŸºæœ¬ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³         :done, p1c, after p1b, 2d
    AuthGuardå®Ÿè£…            :done, p1d, after p1c, 1d
    
    section Phase 2: æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ â­
    æ‰¿èªã‚­ãƒ¥ãƒ¼ç”»é¢            :active, p2a, after p1d, 3d
    æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸         :p2b, after p2a, 4d
    å·®åˆ†è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ      :p2c, after p2b, 3d
    åˆ¤å®šã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½         :p2d, after p2c, 2d
    ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½         :p2e, after p2d, 2d
    
    section Phase 3: ææ¡ˆç®¡ç†
    ææ¡ˆä½œæˆãƒ•ã‚©ãƒ¼ãƒ           :p3a, after p2e, 4d
    ææ¡ˆä¸€è¦§ãƒ»ç·¨é›†æ©Ÿèƒ½         :p3b, after p3a, 3d
    è‡ªåˆ†ã®ææ¡ˆç®¡ç†            :p3c, after p3b, 2d
    
    section Phase 4: ç®¡ç†ãƒ»æœ€é©åŒ–
    é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ               :p4a, after p3c, 2d
    ç®¡ç†è€…æ©Ÿèƒ½               :p4b, after p4a, 3d
    ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–       :p4c, after p4b, 2d
    ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–     :p4d, after p4c, 1d
```

### ãƒ•ã‚§ãƒ¼ã‚ºè©³ç´°

#### Phase 1: èªè¨¼ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³åŸºç›¤ (Week 1-2)
```mermaid
graph TD
    A[Phase 1: åŸºç›¤æ§‹ç¯‰] --> B[JWTèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ]
    A --> C[ãƒ­ãƒ¼ãƒ«åˆ¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰]
    A --> D[åŸºæœ¬ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ]
    A --> E[AuthGuardå®Ÿè£…]
    
    B --> F[èªè¨¼å®Œäº†]
    C --> F
    D --> F
    E --> F
    F --> G[Phase 2é–‹å§‹å¯èƒ½]
```

#### Phase 2: æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ (Week 3-4) â­æœ€é‡è¦
```mermaid
graph TD
    H[Phase 2: æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼] --> I[æ‰¿èªã‚­ãƒ¥ãƒ¼ç”»é¢]
    H --> J[æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸<br/>3åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ]
    H --> K[å·®åˆ†è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ<br/>åŸºæœ¬ç‰ˆ]
    H --> L[åˆ¤å®šã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½]
    H --> M[Next/Previous ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³]
    
    I --> N[æ‰¿èªã‚·ã‚¹ãƒ†ãƒ å®Œæˆ]
    J --> N
    K --> N
    L --> N
    M --> N
    N --> O[MVPå®Œæˆ]
```

## ğŸ“Š ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«åˆ¥æ©Ÿèƒ½ãƒãƒˆãƒªã‚¯ã‚¹

### æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™å›³
```mermaid
graph TD
    A[KSAP ã‚·ã‚¹ãƒ†ãƒ ] --> B[ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼]
    A --> C[æ‰¿èªè€…]
    A --> D[ç®¡ç†è€…]
    
    B --> E[ææ¡ˆä½œæˆãƒ»ç·¨é›† âœ…]
    
    C --> F[æ‰¿èªã‚­ãƒ¥ãƒ¼ âœ…]
    C --> G[æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ âœ…]
    C --> H[å…¨ææ¡ˆé–²è¦§ â–³<br/>æ‹…å½“åˆ†ã®ã¿]
    C --> I[ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ â–³<br/>é™å®šè¡¨ç¤º]
    
    D --> J[ææ¡ˆä½œæˆãƒ»ç·¨é›† âœ…]
    D --> K[æ‰¿èªã‚­ãƒ¥ãƒ¼ âœ…]
    D --> L[æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ âœ…]
    D --> M[å…¨ææ¡ˆé–²è¦§ âœ…]
    D --> N[ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† âœ…]
    D --> O[ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ âœ…]
```

### æ¨©é™ãƒãƒˆãƒªã‚¯ã‚¹è¡¨
| æ©Ÿèƒ½ | ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ | æ‰¿èªè€… | ç®¡ç†è€… |
|------|-------------|-------|-------|
| ææ¡ˆä½œæˆãƒ»ç·¨é›† | âœ… | âŒ | âœ… |
| æ‰¿èªã‚­ãƒ¥ãƒ¼ | âŒ | âœ… | âœ… |
| æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ | âŒ | âœ… | âœ… |
| å…¨ææ¡ˆé–²è¦§ | âŒ | â–³(æ‹…å½“åˆ†) | âœ… |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† | âŒ | âŒ | âœ… |
| ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ | âŒ | â–³(é™å®š) | âœ… |

## ğŸ”§ æŠ€è¡“çš„åˆ¶ç´„ãƒ»å‰ææ¡ä»¶

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶
- æ‰¿èªãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ã®åˆæœŸè¡¨ç¤º: 3ç§’ä»¥å†…
- åˆ¤å®šå‡¦ç†: 1ç§’ä»¥å†…
- UIæ“ä½œå¿œç­”: 100msä»¥å†…

### ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆ
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- WCAG 2.1 AAæº–æ‹ 
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å®Œå…¨å¯¾å¿œ
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

## ğŸ“ˆ å°†æ¥ã®æ‹¡å¼µæ€§

### é«˜æ©Ÿèƒ½åŒ–ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
```mermaid
graph TD
    A[ç¾åœ¨ã®MVP] --> B[Phase 1: åŸºæœ¬æ©Ÿèƒ½å¼·åŒ–]
    B --> C[Phase 2: AIãƒ»åˆ†ææ©Ÿèƒ½]
    C --> D[Phase 3: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å”èª¿]
    
    B --> E[å·®åˆ†è¡¨ç¤ºå¼·åŒ–<br/>Monaco Editorçµ±åˆ<br/>ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯å·®åˆ†]
    
    C --> F[åˆ¤å®šæ”¯æ´AI<br/>æ©Ÿæ¢°å­¦ç¿’åˆ¤å®šæ”¯æ´<br/>äºˆæ¸¬å…¥åŠ›]
    C --> G[åˆ†ææ©Ÿèƒ½<br/>æ‰¿èªãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ<br/>åŠ¹ç‡æ€§ãƒ¡ãƒˆãƒªã‚¯ã‚¹]
    
    D --> H[ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½<br/>WebSocketé€šçŸ¥<br/>å”èª¿ç·¨é›†]
```

### æŠ€è¡“ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
```mermaid
graph TD
    I[ç¾åœ¨ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯] --> J[ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–]
    I --> K[çŠ¶æ…‹ç®¡ç†å¼·åŒ–]
    I --> L[ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥]
    
    J --> M[React Queryå°å…¥<br/>ãƒ‡ãƒ¼ã‚¿å–å¾—æœ€é©åŒ–]
    J --> N[ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«<br/>å¤§é‡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ]
    
    K --> O[Zustandå°å…¥<br/>è»½é‡çŠ¶æ…‹ç®¡ç†]
    K --> P[Redux Toolkit<br/>è¤‡é›‘çŠ¶æ…‹ç®¡ç†]
    
    L --> Q[Service Worker<br/>ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ]
    L --> R[ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥<br/>é«˜é€ŸåŒ–]
```